module: ingress-setup
environment: dev
baseDomain: dev.mm.ch
tls:
  issuer: selfsigned
  enabled: true
ingress:
  className: nginx
  annotations:
    tailscale.com/expose: "true"
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
    nginx.ingress.kubernetes.io/force-ssl-redirect: "false"
    nginx.ingress.kubernetes.io/rewrite-target: /
    # Ajout pour permettre l'acc√®s par IP
    nginx.ingress.kubernetes.io/use-regex: "true"
    nginx.ingress.kubernetes.io/default-backend: "true"
services:
  - name: success-app-dev-service
    port: 80
    pathType: Prefix
    path: /success
  - name: tsa-dev-service
    port: 80
    pathType: Prefix
    path: /trading-strategy-analysis
  - name: optionsviz-dev-service
    port: 80
    pathType: Prefix
    path: /optionviz